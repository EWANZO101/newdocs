import{R as T,r as p,a as fr,j as S,b as vr,o as le,d as Ct,u as hr,c as pr}from"./index-2c6ba4d3.js";import{a as U,$ as Fe,g as Dt,i as Ae,j as Se,k as gr,l as V,m as br,n as Mt,f as Z,e as mr,o as ce,p as we,q as yr,r as $r,s as Le,d as Ee,t as xr,v as Tt,w as kt,x as Je,y as Qe,z as Sr,A as wr,C as Er,D as _e,E as Pr,P as W,F as Ft,b as Kr,B as pe,L as At,G as Cr,u as Dr,h as Mr}from"./fetch.client-4e8590c5.js";import{A as Tr}from"./alert-a0191315.js";import{$ as Lt,a as kr,H as Fr,b as Ar,c as Lr,L as Br,E as Nr}from"./label-17a14f51.js";function Bt(l){return null}Bt.getCollectionNode=function*(e,t){let{childItems:r,title:n,children:i}=e,o=e.title||e.children,s=e.textValue||(typeof o=="string"?o:"")||e["aria-label"]||"";!s&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:o,textValue:s,"aria-label":e["aria-label"],hasChildNodes:Rr(e),*childNodes(){if(r)for(let c of r)yield{type:"item",value:c};else if(n){let c=[];T.Children.forEach(i,u=>{c.push({type:"item",element:u})}),yield*c}}}};function Rr(l){return l.hasChildItems!=null?l.hasChildItems:!!(l.childItems||l.title&&T.Children.count(l.children)>0)}let Ir=Bt;class Or{build(e,t){return this.context=t,et(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:r}=e;if(T.isValidElement(t)&&t.type===T.Fragment)yield*this.iterateCollection({children:t.props.children,items:r});else if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");let n=0;for(let i of r)yield*this.getFullNode({value:i,index:n},{renderer:t}),n++}else{let n=[];T.Children.forEach(t,o=>{o&&n.push(o)});let i=0;for(let o of n){let s=this.getFullNode({element:o,index:i},{});for(let c of s)i++,yield c}}}getKey(e,t,r,n){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${n}${t.key}`;let i=t.value;if(i!=null){var o;let s=(o=i.key)!==null&&o!==void 0?o:i.id;if(s==null)throw new Error("No key found for item");return s}return n?`${n}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,r,n){if(T.isValidElement(e.element)&&e.element.type===T.Fragment){let b=[];T.Children.forEach(e.element.props.children,x=>{b.push(x)});var i;let m=(i=e.index)!==null&&i!==void 0?i:0;for(const x of b)yield*this.getFullNode({element:x,index:m++},t,r,n);return}let o=e.element;if(!o&&e.value&&t&&t.renderer){let b=this.cache.get(e.value);if(b&&(!b.shouldInvalidate||!b.shouldInvalidate(this.context))){b.index=e.index,b.parentKey=n?n.key:null,yield b;return}o=t.renderer(e.value)}if(T.isValidElement(o)){let b=o.type;if(typeof b!="function"&&typeof b.getCollectionNode!="function"){let C=o.type;throw new Error(`Unknown element <${C}> in collection.`)}let m=b.getCollectionNode(o.props,this.context);var s;let x=(s=e.index)!==null&&s!==void 0?s:0,w=m.next();for(;!w.done&&w.value;){let C=w.value;e.index=x;var c;let P=(c=C.key)!==null&&c!==void 0?c:null;P==null&&(P=C.element?null:this.getKey(o,e,t,r));let L=[...this.getFullNode({...C,key:P,index:x,wrapper:jr(e.wrapper,C.wrapper)},this.getChildState(t,C),r?`${r}${o.key}`:o.key,n)];for(let k of L){var u,d;k.value=(d=(u=C.value)!==null&&u!==void 0?u:e.value)!==null&&d!==void 0?d:null,k.value&&this.cache.set(k.value,k);var v;if(e.type&&k.type!==e.type)throw new Error(`Unsupported type <${Ke(k.type)}> in <${Ke((v=n==null?void 0:n.type)!==null&&v!==void 0?v:"unknown parent type")}>. Only <${Ke(e.type)}> is supported.`);x++,yield k}w=m.next(L)}return}if(e.key==null||e.type==null)return;let f=this;var a,h;let $={type:e.type,props:e.props,key:e.key,parentKey:n?n.key:null,value:(a=e.value)!==null&&a!==void 0?a:null,level:n?n.level+1:0,index:e.index,rendered:e.rendered,textValue:(h=e.textValue)!==null&&h!==void 0?h:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:et(function*(){if(!e.hasChildNodes||!e.childNodes)return;let b=0;for(let m of e.childNodes()){m.key!=null&&(m.key=`${$.key}${m.key}`);let x=f.getFullNode({...m,index:b},f.getChildState(t,m),$.key,$);for(let w of x)b++,yield w}})};yield $}constructor(){this.cache=new WeakMap}}function et(l){let e=[],t=null;return{*[Symbol.iterator](){for(let r of e)yield r;t||(t=l());for(let r of t)e.push(r),yield r}}}function jr(l,e){if(l&&e)return t=>l(e(t));if(l)return l;if(e)return e}function Ke(l){return l[0].toUpperCase()+l.slice(1)}function zr(l,e,t){let r=p.useMemo(()=>new Or,[]),{children:n,items:i,collection:o}=l;return p.useMemo(()=>{if(o)return o;let c=r.build({children:n,items:i},t);return e(c)},[r,n,i,o,t,e])}function Nt(l,e){return typeof e.getChildren=="function"?e.getChildren(l.key):l.childNodes}function Hr(l){return Wr(l,0)}function Wr(l,e){if(e<0)return;let t=0;for(let r of l){if(t===e)return r;t++}}function Ce(l,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let r=[...tt(l,e),e],n=[...tt(l,t),t],i=r.slice(0,n.length).findIndex((o,s)=>o!==n[s]);return i!==-1?(e=r[i],t=n[i],e.index-t.index):r.findIndex(o=>o===t)>=0?1:(n.findIndex(o=>o===e)>=0,-1)}function tt(l,e){let t=[],r=e;for(;(r==null?void 0:r.parentKey)!=null;)r=l.getItem(r.parentKey),r&&t.unshift(r);return t}const lt=new WeakMap;function Ur(l){let e=lt.get(l);if(e!=null)return e;let t=0,r=n=>{for(let i of n)i.type==="section"?r(Nt(i,l)):t++};return r(l),lt.set(l,t),t}function Vr(){return typeof window.ResizeObserver<"u"}function rt(l){const{ref:e,box:t,onResize:r}=l;p.useEffect(()=>{let n=e==null?void 0:e.current;if(n)if(Vr()){const i=new window.ResizeObserver(o=>{o.length&&r()});return i.observe(n,{box:t}),()=>{n&&i.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,e,t])}function Be(l,e){if(!l)return!1;let t=window.getComputedStyle(l),r=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return r&&e&&(r=l.scrollHeight!==l.clientHeight||l.scrollWidth!==l.clientWidth),r}function Gr(l,e){const t=[];for(;l&&l!==document.documentElement;)Be(l,e)&&t.push(l),l=l.parentElement;return t}let Yr=0;const De=new Map;function qr(l){let[e,t]=p.useState();return U(()=>{if(!l)return;let r=De.get(l);if(r)t(r.element.id);else{let n=`react-aria-description-${Yr++}`;t(n);let i=document.createElement("div");i.id=n,i.style.display="none",i.textContent=l,document.body.appendChild(i),r={refCount:0,element:i},De.set(l,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),De.delete(l))}},[l]),{"aria-describedby":l?e:void 0}}function nt(l,e,t,r){let n=Fe(t),i=t==null;p.useEffect(()=>{if(i||!l.current)return;let o=l.current;return o.addEventListener(e,n,r),()=>{o.removeEventListener(e,n,r)}},[l,e,r,i,n])}function Rt(l,e){let t=it(l,e,"left"),r=it(l,e,"top"),n=e.offsetWidth,i=e.offsetHeight,o=l.scrollLeft,s=l.scrollTop,{borderTopWidth:c,borderLeftWidth:u}=getComputedStyle(l),d=l.scrollLeft+parseInt(u,10),v=l.scrollTop+parseInt(c,10),f=d+l.clientWidth,a=v+l.clientHeight;t<=o?o=t-parseInt(u,10):t+n>f&&(o+=t+n-f),r<=v?s=r-parseInt(c,10):r+i>a&&(s+=r+i-a),l.scrollLeft=o,l.scrollTop=s}function it(l,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let n=0;for(;e.offsetParent&&(n+=e[r],e.offsetParent!==l);){if(e.offsetParent.contains(l)){n-=l[r];break}e=e.offsetParent}return n}function ot(l,e){if(l&&document.contains(l)){let o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let c=Gr(l);for(let u of c)Rt(u,l)}else{var t;let{left:c,top:u}=l.getBoundingClientRect();l==null||(t=l.scrollIntoView)===null||t===void 0||t.call(l,{block:"nearest"});let{left:d,top:v}=l.getBoundingClientRect();if(Math.abs(c-d)>1||Math.abs(u-v)>1){var r,n,i;e==null||(n=e.containingElement)===null||n===void 0||(r=n.scrollIntoView)===null||r===void 0||r.call(n,{block:"center",inline:"center"}),(i=l.scrollIntoView)===null||i===void 0||i.call(l,{block:"nearest"})}}}}const X={top:"top",bottom:"top",left:"left",right:"left"},me={top:"bottom",bottom:"top",left:"right",right:"left"},Xr={top:"left",left:"top"},Ne={top:"height",left:"width"},It={width:"totalWidth",height:"totalHeight"},ge={};let H=typeof document<"u"?window.visualViewport:null;function st(l){let e=0,t=0,r=0,n=0,i=0,o=0,s={};var c;let u=((c=H==null?void 0:H.scale)!==null&&c!==void 0?c:1)>1;if(l.tagName==="BODY"){let h=document.documentElement;r=h.clientWidth,n=h.clientHeight;var d;e=(d=H==null?void 0:H.width)!==null&&d!==void 0?d:r;var v;t=(v=H==null?void 0:H.height)!==null&&v!==void 0?v:n,s.top=h.scrollTop||l.scrollTop,s.left=h.scrollLeft||l.scrollLeft,H&&(i=H.offsetTop,o=H.offsetLeft)}else({width:e,height:t,top:i,left:o}=ue(l)),s.top=l.scrollTop,s.left=l.scrollLeft,r=e,n=t;if(Dt()&&(l.tagName==="BODY"||l.tagName==="HTML")&&u){s.top=0,s.left=0;var f;i=(f=H==null?void 0:H.pageTop)!==null&&f!==void 0?f:0;var a;o=(a=H==null?void 0:H.pageLeft)!==null&&a!==void 0?a:0}return{width:e,height:t,totalWidth:r,totalHeight:n,scroll:s,top:i,left:o}}function Zr(l){return{top:l.scrollTop,left:l.scrollLeft,width:l.scrollWidth,height:l.scrollHeight}}function at(l,e,t,r,n,i,o){var s;let c=(s=n.scroll[l])!==null&&s!==void 0?s:0,u=r[Ne[l]],d=r.scroll[X[l]]+i,v=u+r.scroll[X[l]]-i,f=e-c+o[l]-r[X[l]],a=e-c+t+o[l]-r[X[l]];return f<d?d-f:a>v?Math.max(v-a,d-f):0}function Jr(l){let e=window.getComputedStyle(l);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function ut(l){if(ge[l])return ge[l];let[e,t]=l.split(" "),r=X[e]||"right",n=Xr[r];X[t]||(t="center");let i=Ne[r],o=Ne[n];return ge[l]={placement:e,crossPlacement:t,axis:r,crossAxis:n,size:i,crossSize:o},ge[l]}function Me(l,e,t,r,n,i,o,s,c,u){let{placement:d,crossPlacement:v,axis:f,crossAxis:a,size:h,crossSize:$}=r,b={};var m;b[a]=(m=l[a])!==null&&m!==void 0?m:0;var x,w,C,P;v==="center"?b[a]+=(((x=l[$])!==null&&x!==void 0?x:0)-((w=t[$])!==null&&w!==void 0?w:0))/2:v!==a&&(b[a]+=((C=l[$])!==null&&C!==void 0?C:0)-((P=t[$])!==null&&P!==void 0?P:0)),b[a]+=i;const E=l[a]-t[$]+c+u,L=l[a]+l[$]-c-u;if(b[a]=Ae(b[a],E,L),d===f){const k=s?o[h]:e[It[h]];b[me[f]]=Math.floor(k-l[f]+n)}else b[f]=Math.floor(l[f]+l[h]+n);return b}function Qr(l,e,t,r,n,i,o,s){const c=r?t.height:e[It.height];var u;let d=l.top!=null?t.top+l.top:t.top+(c-((u=l.bottom)!==null&&u!==void 0?u:0)-o);var v,f,a,h,$,b;let m=s!=="top"?Math.max(0,e.height+e.top+((v=e.scroll.top)!==null&&v!==void 0?v:0)-d-(((f=n.top)!==null&&f!==void 0?f:0)+((a=n.bottom)!==null&&a!==void 0?a:0)+i)):Math.max(0,d+o-(e.top+((h=e.scroll.top)!==null&&h!==void 0?h:0))-((($=n.top)!==null&&$!==void 0?$:0)+((b=n.bottom)!==null&&b!==void 0?b:0)+i));return Math.min(e.height-i*2,m)}function ct(l,e,t,r,n,i){let{placement:o,axis:s,size:c}=i;var u,d;if(o===s)return Math.max(0,t[s]-l[s]-((u=l.scroll[s])!==null&&u!==void 0?u:0)+e[s]-((d=r[s])!==null&&d!==void 0?d:0)-r[me[s]]-n);var v;return Math.max(0,l[c]+l[s]+l.scroll[s]-e[s]-t[s]-t[c]-((v=r[s])!==null&&v!==void 0?v:0)-r[me[s]]-n)}function _r(l,e,t,r,n,i,o,s,c,u,d,v,f,a,h,$){let b=ut(l),{size:m,crossAxis:x,crossSize:w,placement:C,crossPlacement:P}=b,E=Me(e,s,t,b,d,v,u,f,h,$),L=d,k=ct(s,u,e,n,i+d,b);if(o&&r[m]>k){let ie=ut(`${me[C]} ${P}`),K=Me(e,s,t,ie,d,v,u,f,h,$);ct(s,u,e,n,i+d,ie)>k&&(b=ie,E=K,L=d)}let F="bottom";b.axis==="top"?b.placement==="top"?F="top":b.placement==="bottom"&&(F="bottom"):b.crossAxis==="top"&&(b.crossPlacement==="top"?F="bottom":b.crossPlacement==="bottom"&&(F="top"));let g=at(x,E[x],t[w],s,c,i,u);E[x]+=g;let D=Qr(E,s,u,f,n,i,t.height,F);a&&a<D&&(D=a),t.height=Math.min(t.height,D),E=Me(e,s,t,b,L,v,u,f,h,$),g=at(x,E[x],t[w],s,c,i,u),E[x]+=g;let M={},B=e[x]+.5*e[w]-E[x]-n[X[x]];const A=h/2+$;var R,N,y,O;const Y=X[x]==="left"?((R=n.left)!==null&&R!==void 0?R:0)+((N=n.right)!==null&&N!==void 0?N:0):((y=n.top)!==null&&y!==void 0?y:0)+((O=n.bottom)!==null&&O!==void 0?O:0),ne=t[w]-Y-h/2-$,de=e[x]+h/2-(E[x]+n[X[x]]),fe=e[x]+e[w]-h/2-(E[x]+n[X[x]]),ve=Ae(B,de,fe);return M[x]=Ae(ve,A,ne),{position:E,maxHeight:D,arrowOffsetLeft:M.left,arrowOffsetTop:M.top,placement:b.placement}}function en(l){let{placement:e,targetNode:t,overlayNode:r,scrollNode:n,padding:i,shouldFlip:o,boundaryElement:s,offset:c,crossOffset:u,maxHeight:d,arrowSize:v=0,arrowBoundaryOffset:f=0}=l,a=r instanceof HTMLElement?tn(r):document.documentElement,h=a===document.documentElement;const $=window.getComputedStyle(a).position;let b=!!$&&$!=="static",m=h?ue(t):dt(t,a);if(!h){let{marginTop:M,marginLeft:B}=window.getComputedStyle(t);m.top+=parseInt(M,10)||0,m.left+=parseInt(B,10)||0}let x=ue(r),w=Jr(r);var C,P;x.width+=((C=w.left)!==null&&C!==void 0?C:0)+((P=w.right)!==null&&P!==void 0?P:0);var E,L;x.height+=((E=w.top)!==null&&E!==void 0?E:0)+((L=w.bottom)!==null&&L!==void 0?L:0);let k=Zr(n),F=st(s),g=st(a),D=s.tagName==="BODY"?ue(a):dt(a,s);return a.tagName==="HTML"&&s.tagName==="BODY"&&(g.scroll.top=0,g.scroll.left=0),_r(e,m,x,k,w,i,o,F,g,D,c,u,b,d,v,f)}function ue(l){let{top:e,left:t,width:r,height:n}=l.getBoundingClientRect(),{scrollTop:i,scrollLeft:o,clientTop:s,clientLeft:c}=document.documentElement;return{top:e+i-s,left:t+o-c,width:r,height:n}}function dt(l,e){let t=window.getComputedStyle(l),r;if(t.position==="fixed"){let{top:n,left:i,width:o,height:s}=l.getBoundingClientRect();r={top:n,left:i,width:o,height:s}}else{r=ue(l);let n=ue(e),i=window.getComputedStyle(e);n.top+=(parseInt(i.borderTopWidth,10)||0)-e.scrollTop,n.left+=(parseInt(i.borderLeftWidth,10)||0)-e.scrollLeft,r.top-=n.top,r.left-=n.left}return r.top-=parseInt(t.marginTop,10)||0,r.left-=parseInt(t.marginLeft,10)||0,r}function tn(l){let e=l.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!ft(e)&&(e=document.documentElement),e==null)for(e=l.parentElement;e&&!ft(e);)e=e.parentElement;return e||document.documentElement}function ft(l){let e=window.getComputedStyle(l);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const Ot=new WeakMap;function ln(l){let{triggerRef:e,isOpen:t,onClose:r}=l;p.useEffect(()=>{if(!t||r===null)return;let n=i=>{let o=i.target;if(!e.current||o instanceof Node&&!o.contains(e.current)||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)return;let s=r||Ot.get(e.current);s&&s()};return window.addEventListener("scroll",n,!0),()=>{window.removeEventListener("scroll",n,!0)}},[t,r,e])}const rn=Symbol.for("react-aria.i18n.locale"),nn=Symbol.for("react-aria.i18n.strings");let se;class Pe{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=on(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[rn];if(se===void 0){let n=window[nn];if(!n)return null;se={};for(let i in n)se[i]=new Pe({[t]:n[i]},t)}let r=se==null?void 0:se[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function on(l,e,t="en-US"){if(e[l])return e[l];let r=sn(l);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function sn(l){return Intl.Locale?new Intl.Locale(l).language:l.split("-")[0]}const vt=new Map,ht=new Map;class an{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let i=this.locale+":"+r,o=vt.get(i);o||(o=new Intl.PluralRules(this.locale,{type:r}),vt.set(i,o));let s=o.select(e);return n=t[s]||t.other,typeof n=="function"?n():n}number(e){let t=ht.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),ht.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const pt=new WeakMap;function un(l){let e=pt.get(l);return e||(e=new Pe(l),pt.set(l,e)),e}function cn(l,e){return e&&Pe.getGlobalDictionaryForPackage(e)||un(l)}function jt(l,e){let{locale:t}=Se(),r=cn(l,e);return p.useMemo(()=>new an(t,r),[t,r])}let Te=new Map;function dn(l){let{locale:e}=Se(),t=e+(l?Object.entries(l).sort((n,i)=>n[0]<i[0]?-1:1).join():"");if(Te.has(t))return Te.get(t);let r=new Intl.Collator(e,l);return Te.set(t,r),r}let j=typeof document<"u"?window.visualViewport:null;function fn(l){let{direction:e}=Se(),{arrowSize:t=0,targetRef:r,overlayRef:n,scrollRef:i=n,placement:o="bottom",containerPadding:s=12,shouldFlip:c=!0,boundaryElement:u=typeof document<"u"?document.body:null,offset:d=0,crossOffset:v=0,shouldUpdatePosition:f=!0,isOpen:a=!0,onClose:h,maxHeight:$,arrowBoundaryOffset:b=0}=l,[m,x]=p.useState(null),w=[f,o,n.current,r.current,i.current,s,c,u,d,v,a,e,$,b,t],C=p.useRef(j==null?void 0:j.scale);p.useEffect(()=>{a&&(C.current=j==null?void 0:j.scale)},[a]);let P=p.useCallback(()=>{if(f===!1||!a||!n.current||!r.current||!u||(j==null?void 0:j.scale)!==C.current)return;let g=null;if(i.current&&i.current.contains(document.activeElement)){var D;let O=(D=document.activeElement)===null||D===void 0?void 0:D.getBoundingClientRect(),Y=i.current.getBoundingClientRect();var M;if(g={type:"top",offset:((M=O==null?void 0:O.top)!==null&&M!==void 0?M:0)-Y.top},g.offset>Y.height/2){g.type="bottom";var B;g.offset=((B=O==null?void 0:O.bottom)!==null&&B!==void 0?B:0)-Y.bottom}}let A=n.current;if(!$&&n.current){var R;A.style.top="0px",A.style.bottom="";var N;A.style.maxHeight=((N=(R=window.visualViewport)===null||R===void 0?void 0:R.height)!==null&&N!==void 0?N:window.innerHeight)+"px"}let y=en({placement:hn(o,e),overlayNode:n.current,targetNode:r.current,scrollNode:i.current||n.current,padding:s,shouldFlip:c,boundaryElement:u,offset:d,crossOffset:v,maxHeight:$,arrowSize:t,arrowBoundaryOffset:b});if(y.position){if(A.style.top="",A.style.bottom="",A.style.left="",A.style.right="",Object.keys(y.position).forEach(O=>A.style[O]=y.position[O]+"px"),A.style.maxHeight=y.maxHeight!=null?y.maxHeight+"px":"",g&&document.activeElement&&i.current){let O=document.activeElement.getBoundingClientRect(),Y=i.current.getBoundingClientRect(),ne=O[g.type]-Y[g.type];i.current.scrollTop+=ne-g.offset}x(y)}},w);U(P,w),vn(P),rt({ref:n,onResize:P}),rt({ref:r,onResize:P});let E=p.useRef(!1);U(()=>{let g,D=()=>{E.current=!0,clearTimeout(g),g=setTimeout(()=>{E.current=!1},500),P()},M=()=>{E.current&&D()};return j==null||j.addEventListener("resize",D),j==null||j.addEventListener("scroll",M),()=>{j==null||j.removeEventListener("resize",D),j==null||j.removeEventListener("scroll",M)}},[P]);let L=p.useCallback(()=>{E.current||h==null||h()},[h,E]);ln({triggerRef:r,isOpen:a,onClose:h&&L});var k,F;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...m==null?void 0:m.position,maxHeight:(k=m==null?void 0:m.maxHeight)!==null&&k!==void 0?k:"100vh"}},placement:(F=m==null?void 0:m.placement)!==null&&F!==void 0?F:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:m==null?void 0:m.arrowOffsetLeft,top:m==null?void 0:m.arrowOffsetTop}},updatePosition:P}}function vn(l){U(()=>(window.addEventListener("resize",l,!1),()=>{window.removeEventListener("resize",l,!1)}),[l])}function hn(l,e){return e==="rtl"?l.replace("start","right").replace("end","left"):l.replace("start","left").replace("end","right")}function Ve(l){let{isDisabled:e,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:n}=l,i=p.useRef({isFocusWithin:!1}),o=p.useCallback(u=>{i.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(u),n&&n(!1))},[t,n,i]),s=gr(o),c=p.useCallback(u=>{!i.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),n&&n(!0),i.current.isFocusWithin=!0,s(u))},[r,n,s]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}let ye=!1,ke=0;function Re(){ye=!0,setTimeout(()=>{ye=!1},50)}function gt(l){l.pointerType==="touch"&&Re()}function pn(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",gt):document.addEventListener("touchend",Re),ke++,()=>{ke--,!(ke>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",gt):document.removeEventListener("touchend",Re))}}function gn(l){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:n}=l,[i,o]=p.useState(!1),s=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(pn,[]);let{hoverProps:c,triggerHoverEnd:u}=p.useMemo(()=>{let d=(a,h)=>{if(s.pointerType=h,n||h==="touch"||s.isHovered||!a.currentTarget.contains(a.target))return;s.isHovered=!0;let $=a.currentTarget;s.target=$,e&&e({type:"hoverstart",target:$,pointerType:h}),t&&t(!0),o(!0)},v=(a,h)=>{if(s.pointerType="",s.target=null,h==="touch"||!s.isHovered)return;s.isHovered=!1;let $=a.currentTarget;r&&r({type:"hoverend",target:$,pointerType:h}),t&&t(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=a=>{ye&&a.pointerType==="mouse"||d(a,a.pointerType)},f.onPointerLeave=a=>{!n&&a.currentTarget.contains(a.target)&&v(a,a.pointerType)}):(f.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=a=>{!s.ignoreEmulatedMouseEvents&&!ye&&d(a,"mouse"),s.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=a=>{!n&&a.currentTarget.contains(a.target)&&v(a,"mouse")}),{hoverProps:f,triggerHoverEnd:v}},[e,t,r,n,s]);return p.useEffect(()=>{n&&u({currentTarget:s.target},s.pointerType)},[n]),{hoverProps:c,isHovered:i}}function bn(l){let{ref:e,onInteractOutside:t,isDisabled:r,onInteractOutsideStart:n}=l,i=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),o=Fe(c=>{t&&be(c,e)&&(n&&n(c),i.current.isPointerDown=!0)}),s=Fe(c=>{t&&t(c)});p.useEffect(()=>{let c=i.current;if(r)return;const u=e.current,d=V(u);if(typeof PointerEvent<"u"){let v=f=>{c.isPointerDown&&be(f,e)&&s(f),c.isPointerDown=!1};return d.addEventListener("pointerdown",o,!0),d.addEventListener("pointerup",v,!0),()=>{d.removeEventListener("pointerdown",o,!0),d.removeEventListener("pointerup",v,!0)}}else{let v=a=>{c.ignoreEmulatedMouseEvents?c.ignoreEmulatedMouseEvents=!1:c.isPointerDown&&be(a,e)&&s(a),c.isPointerDown=!1},f=a=>{c.ignoreEmulatedMouseEvents=!0,c.isPointerDown&&be(a,e)&&s(a),c.isPointerDown=!1};return d.addEventListener("mousedown",o,!0),d.addEventListener("mouseup",v,!0),d.addEventListener("touchstart",o,!0),d.addEventListener("touchend",f,!0),()=>{d.removeEventListener("mousedown",o,!0),d.removeEventListener("mouseup",v,!0),d.removeEventListener("touchstart",o,!0),d.removeEventListener("touchend",f,!0)}}},[e,r,o,s])}function be(l,e){if(l.button>0)return!1;if(l.target){const t=l.target.ownerDocument;if(!t||!t.documentElement.contains(l.target)||l.target.closest("[data-react-aria-top-layer]"))return!1}return e.current&&!e.current.contains(l.target)}const mn=500;function zt(l){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:n,threshold:i=mn,accessibilityDescription:o}=l;const s=p.useRef(void 0);let{addGlobalListener:c,removeGlobalListener:u}=br(),{pressProps:d}=Mt({isDisabled:e,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(t&&t({...f,type:"longpressstart"}),s.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),n&&n({...f,type:"longpress"}),s.current=void 0},i),f.pointerType==="touch")){let a=h=>{h.preventDefault()};c(f.target,"contextmenu",a,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{u(f.target,"contextmenu",a)},30)},{once:!0})}},onPressEnd(f){s.current&&clearTimeout(s.current),r&&(f.pointerType==="mouse"||f.pointerType==="touch")&&r({...f,type:"longpressend"})}}),v=qr(n&&!e?o:void 0);return{longPressProps:Z(d,v)}}function yn(l){const e=mr(l);if(!(l instanceof e.HTMLElement)&&!(l instanceof e.SVGElement))return!1;let{display:t,visibility:r}=l.style,n=t!=="none"&&r!=="hidden"&&r!=="collapse";if(n){const{getComputedStyle:i}=l.ownerDocument.defaultView;let{display:o,visibility:s}=i(l);n=o!=="none"&&s!=="hidden"&&s!=="collapse"}return n}function $n(l,e){return!l.hasAttribute("hidden")&&!l.hasAttribute("data-react-aria-prevent-focus")&&(l.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?l.hasAttribute("open"):!0)}function Ht(l,e){return l.nodeName!=="#comment"&&yn(l)&&$n(l,e)&&(!l.parentElement||Ht(l.parentElement,l))}const bt=T.createContext(null),Ie="react-aria-focus-scope-restore";let I=null;function xn(l){let{children:e,contain:t,restoreFocus:r,autoFocus:n}=l,i=p.useRef(null),o=p.useRef(null),s=p.useRef([]),{parentNode:c}=p.useContext(bt)||{},u=p.useMemo(()=>new je({scopeRef:s}),[s]);U(()=>{let f=c||z.root;if(z.getTreeNode(f.scopeRef)&&I&&!$e(I,f.scopeRef)){let a=z.getTreeNode(I);a&&(f=a)}f.addChild(u),z.addNode(u)},[u,c]),U(()=>{let f=z.getTreeNode(s);f&&(f.contain=!!t)},[t]),U(()=>{var f;let a=(f=i.current)===null||f===void 0?void 0:f.nextSibling,h=[],$=b=>b.stopPropagation();for(;a&&a!==o.current;)h.push(a),a.addEventListener(Ie,$),a=a.nextSibling;return s.current=h,()=>{for(let b of h)b.removeEventListener(Ie,$)}},[e]),Dn(s,r,t),Pn(s,t),Mn(s,r,t),Cn(s,n),p.useEffect(()=>{const f=V(s.current?s.current[0]:void 0).activeElement;let a=null;if(G(f,s.current)){for(let h of z.traverse())h.scopeRef&&G(f,h.scopeRef.current)&&(a=h);a===z.getTreeNode(s)&&(I=a.scopeRef)}},[s]),U(()=>()=>{var f,a,h;let $=(h=(a=z.getTreeNode(s))===null||a===void 0||(f=a.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&h!==void 0?h:null;(s===I||$e(s,I))&&(!$||z.getTreeNode($))&&(I=$),z.removeTreeNode(s)},[s]);let d=p.useMemo(()=>Sn(s),[]),v=p.useMemo(()=>({focusManager:d,parentNode:u}),[u,d]);return T.createElement(bt.Provider,{value:v},T.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),e,T.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function Sn(l){return{focusNext(e={}){let t=l.current,{from:r,tabbable:n,wrap:i,accept:o}=e,s=r||V(t[0]).activeElement,c=t[0].previousElementSibling,u=oe(t),d=_(u,{tabbable:n,accept:o},t);d.currentNode=G(s,t)?s:c;let v=d.nextNode();return!v&&i&&(d.currentNode=c,v=d.nextNode()),v&&Q(v,!0),v},focusPrevious(e={}){let t=l.current,{from:r,tabbable:n,wrap:i,accept:o}=e,s=r||V(t[0]).activeElement,c=t[t.length-1].nextElementSibling,u=oe(t),d=_(u,{tabbable:n,accept:o},t);d.currentNode=G(s,t)?s:c;let v=d.previousNode();return!v&&i&&(d.currentNode=c,v=d.previousNode()),v&&Q(v,!0),v},focusFirst(e={}){let t=l.current,{tabbable:r,accept:n}=e,i=oe(t),o=_(i,{tabbable:r,accept:n},t);o.currentNode=t[0].previousElementSibling;let s=o.nextNode();return s&&Q(s,!0),s},focusLast(e={}){let t=l.current,{tabbable:r,accept:n}=e,i=oe(t),o=_(i,{tabbable:r,accept:n},t);o.currentNode=t[t.length-1].nextElementSibling;let s=o.previousNode();return s&&Q(s,!0),s}}}const Ge=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],wn=Ge.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ge.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const En=Ge.join(':not([hidden]):not([tabindex="-1"]),');function oe(l){return l[0].parentElement}function he(l){let e=z.getTreeNode(I);for(;e&&e.scopeRef!==l;){if(e.contain)return!1;e=e.parent}return!0}function Pn(l,e){let t=p.useRef(void 0),r=p.useRef(void 0);U(()=>{let n=l.current;if(!e){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const i=V(n?n[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!he(l)||u.isComposing)return;let d=i.activeElement,v=l.current;if(!v||!G(d,v))return;let f=oe(v),a=_(f,{tabbable:!0},v);if(!d)return;a.currentNode=d;let h=u.shiftKey?a.previousNode():a.nextNode();h||(a.currentNode=u.shiftKey?v[v.length-1].nextElementSibling:v[0].previousElementSibling,h=u.shiftKey?a.previousNode():a.nextNode()),u.preventDefault(),h&&Q(h,!0)},s=u=>{(!I||$e(I,l))&&G(u.target,l.current)?(I=l,t.current=u.target):he(l)&&!re(u.target,l)?t.current?t.current.focus():I&&I.current&&Oe(I.current):he(l)&&(t.current=u.target)},c=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(i.activeElement&&he(l)&&!re(i.activeElement,l))if(I=l,i.body.contains(u.target)){var d;t.current=u.target,(d=t.current)===null||d===void 0||d.focus()}else I.current&&Oe(I.current)})};return i.addEventListener("keydown",o,!1),i.addEventListener("focusin",s,!1),n==null||n.forEach(u=>u.addEventListener("focusin",s,!1)),n==null||n.forEach(u=>u.addEventListener("focusout",c,!1)),()=>{i.removeEventListener("keydown",o,!1),i.removeEventListener("focusin",s,!1),n==null||n.forEach(u=>u.removeEventListener("focusin",s,!1)),n==null||n.forEach(u=>u.removeEventListener("focusout",c,!1))}},[l,e]),U(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function Wt(l){return re(l)}function G(l,e){return!l||!e?!1:e.some(t=>t.contains(l))}function re(l,e=null){if(l instanceof Element&&l.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of z.traverse(z.getTreeNode(e)))if(t&&G(l,t.current))return!0;return!1}function Kn(l){return re(l,I)}function $e(l,e){var t;let r=(t=z.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;r;){if(r.scopeRef===l)return!0;r=r.parent}return!1}function Q(l,e=!1){if(l!=null&&!e)try{ce(l)}catch{}else if(l!=null)try{l.focus()}catch{}}function Ut(l,e=!0){let t=l[0].previousElementSibling,r=oe(l),n=_(r,{tabbable:e},l);n.currentNode=t;let i=n.nextNode();return e&&!i&&(r=oe(l),n=_(r,{tabbable:!1},l),n.currentNode=t,i=n.nextNode()),i}function Oe(l,e=!0){Q(Ut(l,e))}function Cn(l,e){const t=T.useRef(e);p.useEffect(()=>{if(t.current){I=l;const r=V(l.current?l.current[0]:void 0);!G(r.activeElement,I.current)&&l.current&&Oe(l.current)}t.current=!1},[l])}function Dn(l,e,t){U(()=>{if(e||t)return;let r=l.current;const n=V(r?r[0]:void 0);let i=o=>{let s=o.target;G(s,l.current)?I=l:Wt(s)||(I=null)};return n.addEventListener("focusin",i,!1),r==null||r.forEach(o=>o.addEventListener("focusin",i,!1)),()=>{n.removeEventListener("focusin",i,!1),r==null||r.forEach(o=>o.removeEventListener("focusin",i,!1))}},[l,e,t])}function mt(l){let e=z.getTreeNode(I);for(;e&&e.scopeRef!==l;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===l}function Mn(l,e,t){const r=p.useRef(typeof document<"u"?V(l.current?l.current[0]:void 0).activeElement:null);U(()=>{let n=l.current;const i=V(n?n[0]:void 0);if(!e||t)return;let o=()=>{(!I||$e(I,l))&&G(i.activeElement,l.current)&&(I=l)};return i.addEventListener("focusin",o,!1),n==null||n.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),n==null||n.forEach(s=>s.removeEventListener("focusin",o,!1))}},[l,t]),U(()=>{const n=V(l.current?l.current[0]:void 0);if(!e)return;let i=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!he(l)||o.isComposing)return;let s=n.activeElement;if(!re(s,l)||!mt(l))return;let c=z.getTreeNode(l);if(!c)return;let u=c.nodeToRestore,d=_(n.body,{tabbable:!0});d.currentNode=s;let v=o.shiftKey?d.previousNode():d.nextNode();if((!u||!n.body.contains(u)||u===n.body)&&(u=void 0,c.nodeToRestore=void 0),(!v||!re(v,l))&&u){d.currentNode=u;do v=o.shiftKey?d.previousNode():d.nextNode();while(re(v,l));o.preventDefault(),o.stopPropagation(),v?Q(v,!0):Wt(u)?Q(u,!0):s.blur()}};return t||n.addEventListener("keydown",i,!0),()=>{t||n.removeEventListener("keydown",i,!0)}},[l,e,t]),U(()=>{const n=V(l.current?l.current[0]:void 0);if(!e)return;let i=z.getTreeNode(l);if(i){var o;return i.nodeToRestore=(o=r.current)!==null&&o!==void 0?o:void 0,()=>{let s=z.getTreeNode(l);if(!s)return;let c=s.nodeToRestore;if(e&&c&&(n.activeElement&&re(n.activeElement,l)||n.activeElement===n.body&&mt(l))){let u=z.clone();requestAnimationFrame(()=>{if(n.activeElement===n.body){let d=u.getTreeNode(l);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){yt(d.nodeToRestore);return}d=d.parent}for(d=u.getTreeNode(l);d;){if(d.scopeRef&&d.scopeRef.current&&z.getTreeNode(d.scopeRef)){let v=Ut(d.scopeRef.current,!0);yt(v);return}d=d.parent}}})}}}},[l,e])}function yt(l){l.dispatchEvent(new CustomEvent(Ie,{bubbles:!0,cancelable:!0}))&&Q(l)}function _(l,e,t){let r=e!=null&&e.tabbable?En:wn,n=V(l).createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var o;return!(e==null||(o=e.from)===null||o===void 0)&&o.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&Ht(i)&&(!t||G(i,t))&&(!(e!=null&&e.accept)||e.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(n.currentNode=e.from),n}class Ye{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,r){let n=this.fastMap.get(t??null);if(!n)return;let i=new je({scopeRef:e});n.addChild(i),i.parent=n,this.fastMap.set(e,i),r&&(i.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let r=t.parent;for(let i of this.traverse())i!==t&&t.nodeToRestore&&i.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&G(i.nodeToRestore,t.scopeRef.current)&&(i.nodeToRestore=t.nodeToRestore);let n=t.children;r&&(r.removeChild(t),n.size>0&&n.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Ye;var r;for(let n of this.traverse())t.addTreeNode(n.scopeRef,(r=(e=n.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,n.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new je({scopeRef:null}),this.fastMap.set(null,this.root)}}class je{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let z=new Ye;const J=[];function Tn(l,e){let{onClose:t,shouldCloseOnBlur:r,isOpen:n,isDismissable:i=!1,isKeyboardDismissDisabled:o=!1,shouldCloseOnInteractOutside:s}=l;p.useEffect(()=>(n&&J.push(e),()=>{let h=J.indexOf(e);h>=0&&J.splice(h,1)}),[n,e]);let c=()=>{J[J.length-1]===e&&t&&t()},u=h=>{(!s||s(h.target))&&J[J.length-1]===e&&(h.stopPropagation(),h.preventDefault())},d=h=>{(!s||s(h.target))&&(J[J.length-1]===e&&(h.stopPropagation(),h.preventDefault()),c())},v=h=>{h.key==="Escape"&&!o&&!h.nativeEvent.isComposing&&(h.stopPropagation(),h.preventDefault(),c())};bn({ref:e,onInteractOutside:i&&n?d:void 0,onInteractOutsideStart:u});let{focusWithinProps:f}=Ve({isDisabled:!r,onBlurWithin:h=>{!h.relatedTarget||Kn(h.relatedTarget)||(!s||s(h.relatedTarget))&&(t==null||t())}}),a=h=>{h.target===h.currentTarget&&h.preventDefault()};return{overlayProps:{onKeyDown:v,...f},underlayProps:{onPointerDown:a}}}function kn(l,e,t){let{type:r}=l,{isOpen:n}=e;p.useEffect(()=>{t&&t.current&&Ot.set(t.current,e.close)});let i;r==="menu"?i=!0:r==="listbox"&&(i="listbox");let o=we();return{triggerProps:{"aria-haspopup":i,"aria-expanded":n,"aria-controls":n?o:void 0,onPress:e.toggle},overlayProps:{id:o}}}const xe=T.createContext(null);function Vt(l){let{children:e}=l,t=p.useContext(xe),[r,n]=p.useState(0),i=p.useMemo(()=>({parent:t,modalCount:r,addModal(){n(o=>o+1),t&&t.addModal()},removeModal(){n(o=>o-1),t&&t.removeModal()}}),[t,r]);return T.createElement(xe.Provider,{value:i},e)}function Fn(){let l=p.useContext(xe);return{modalProviderProps:{"aria-hidden":l&&l.modalCount>0?!0:void 0}}}function An(l){let{modalProviderProps:e}=Fn();return T.createElement("div",{"data-overlay-container":!0,...l,...e})}function Ln(l){return T.createElement(Vt,null,T.createElement(An,l))}function Bn(l){let e=yr(),{portalContainer:t=e?null:document.body,...r}=l;if(T.useEffect(()=>{if(t!=null&&t.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let n=T.createElement(Ln,r);return fr.createPortal(n,t)}function Nn(l){let e=p.useContext(xe);if(!e)throw new Error("Modal is not contained within a provider");return p.useEffect(()=>{if(!(l!=null&&l.isDisabled||!e||!e.parent))return e.parent.addModal(),()=>{e&&e.parent&&e.parent.removeModal()}},[e,e.parent,l==null?void 0:l.isDisabled]),{modalProps:{"data-ismodal":!(l!=null&&l.isDisabled)}}}var Gt={};Gt={dismiss:"تجاهل"};var Yt={};Yt={dismiss:"Отхвърляне"};var qt={};qt={dismiss:"Odstranit"};var Xt={};Xt={dismiss:"Luk"};var Zt={};Zt={dismiss:"Schließen"};var Jt={};Jt={dismiss:"Απόρριψη"};var Qt={};Qt={dismiss:"Dismiss"};var _t={};_t={dismiss:"Descartar"};var el={};el={dismiss:"Lõpeta"};var tl={};tl={dismiss:"Hylkää"};var ll={};ll={dismiss:"Rejeter"};var rl={};rl={dismiss:"התעלם"};var nl={};nl={dismiss:"Odbaci"};var il={};il={dismiss:"Elutasítás"};var ol={};ol={dismiss:"Ignora"};var sl={};sl={dismiss:"閉じる"};var al={};al={dismiss:"무시"};var ul={};ul={dismiss:"Atmesti"};var cl={};cl={dismiss:"Nerādīt"};var dl={};dl={dismiss:"Lukk"};var fl={};fl={dismiss:"Negeren"};var vl={};vl={dismiss:"Zignoruj"};var hl={};hl={dismiss:"Descartar"};var pl={};pl={dismiss:"Dispensar"};var gl={};gl={dismiss:"Revocare"};var bl={};bl={dismiss:"Пропустить"};var ml={};ml={dismiss:"Zrušiť"};var yl={};yl={dismiss:"Opusti"};var $l={};$l={dismiss:"Odbaci"};var xl={};xl={dismiss:"Avvisa"};var Sl={};Sl={dismiss:"Kapat"};var wl={};wl={dismiss:"Скасувати"};var El={};El={dismiss:"取消"};var Pl={};Pl={dismiss:"關閉"};var Kl={};Kl={"ar-AE":Gt,"bg-BG":Yt,"cs-CZ":qt,"da-DK":Xt,"de-DE":Zt,"el-GR":Jt,"en-US":Qt,"es-ES":_t,"et-EE":el,"fi-FI":tl,"fr-FR":ll,"he-IL":rl,"hr-HR":nl,"hu-HU":il,"it-IT":ol,"ja-JP":sl,"ko-KR":al,"lt-LT":ul,"lv-LV":cl,"nb-NO":dl,"nl-NL":fl,"pl-PL":vl,"pt-BR":hl,"pt-PT":pl,"ro-RO":gl,"ru-RU":bl,"sk-SK":ml,"sl-SI":yl,"sr-SP":$l,"sv-SE":xl,"tr-TR":Sl,"uk-UA":wl,"zh-CN":El,"zh-TW":Pl};const $t={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Rn(l={}){let{style:e,isFocusable:t}=l,[r,n]=p.useState(!1),{focusWithinProps:i}=Ve({isDisabled:!t,onFocusWithinChange:s=>n(s)}),o=p.useMemo(()=>r?e:e?{...$t,...e}:$t,[r]);return{visuallyHiddenProps:{...i,style:o}}}function In(l){let{children:e,elementType:t="div",isFocusable:r,style:n,...i}=l,{visuallyHiddenProps:o}=Rn(l);return T.createElement(t,Z(i,o),e)}function On(l){return l&&l.__esModule?l.default:l}function jn(l){let{onDismiss:e,...t}=l,r=jt(On(Kl),"@react-aria/overlays"),n=$r(t,r.format("dismiss")),i=()=>{e&&e()};return T.createElement(In,null,T.createElement("button",{...n,tabIndex:-1,onClick:i,style:{width:1,height:1}}))}const zn=T.createContext(null);function Hn(){let l=p.useContext(zn),e=l==null?void 0:l.setContain;U(()=>{e==null||e(!0)},[e])}function Wn(l,e){let{role:t="dialog"}=l,r=Le();r=l["aria-label"]?void 0:r;let n=p.useRef(!1);return p.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){ce(e.current);let i=setTimeout(()=>{document.activeElement===e.current&&(n.current=!0,e.current&&(e.current.blur(),ce(e.current)),n.current=!1)},500);return()=>{clearTimeout(i)}}},[e]),Hn(),{dialogProps:{...Ee(l,{labelable:!0}),role:t,tabIndex:-1,"aria-labelledby":l["aria-labelledby"]||r,onBlur:i=>{n.current&&i.stopPropagation()}},titleProps:{id:r}}}const xt=300;function Un(l){var w,C,P;const e=p.useRef(null),t=p.useRef(null),{popoverRef:r=e,isOpen:n,onClose:i,children:o,isCalendar:s,...c}=l,{overlayProps:u}=Tn({isOpen:n,onClose:i,isDismissable:!0},r),{modalProps:d}=Nn(),{dialogProps:v}=Wn(c,r),{overlayProps:f,updatePosition:a}=fn({isOpen:n,offset:2,containerPadding:0,overlayRef:e,targetRef:t,placement:"bottom start"});p.useLayoutEffect(()=>{n&&requestAnimationFrame(()=>{a()})},[n,a]);const h=((w=t.current)==null?void 0:w.clientWidth)??0,$=parseInt(((P=(C=f.style)==null?void 0:C.left)==null?void 0:P.toString())||"0",10),b=s?xt:h,m=s?h-xt+$:$,x={...f.style,left:m,width:b};return S.jsx("div",{ref:t,children:S.jsx(Bn,{children:S.jsx(xn,{contain:!0,children:S.jsxs("div",{...Z(u,d,v),ref:r,className:"w-full absolute top-full bg-gray-200 dark:bg-primary border border-gray-400 dark:border-secondary rounded-md shadow-lg mt-2 p-2 z-10",style:{zIndex:999,...x},children:[o,S.jsx(jn,{onDismiss:i})]})})})})}const qe=new WeakMap;function Vn(l){return typeof l=="string"?l.replace(/\s*/g,""):""+l}function Gn(l,e){let t=qe.get(l);if(!t)throw new Error("Unknown list");return`${t.id}-option-${Vn(e)}`}function ze(l){return xr()?l.altKey:l.ctrlKey}function ae(l){return Tt()?l.metaKey:l.ctrlKey}const Yn=1e3;function qn(l){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=l,n=p.useRef({search:"",timeout:void 0}).current,i=o=>{let s=Xn(o.key);if(!(!s||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target))){if(s===" "&&n.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),n.search+=s,e.getKeyForSearch!=null){let c=e.getKeyForSearch(n.search,t.focusedKey);c==null&&(c=e.getKeyForSearch(n.search)),c!=null&&(t.setFocusedKey(c),r&&r(c))}clearTimeout(n.timeout),n.timeout=setTimeout(()=>{n.search=""},Yn)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?i:void 0}}}function Xn(l){return l.length===1||!/^[A-Z]/i.test(l)?l:""}function Zn(l){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:n=!1,shouldFocusWrap:i=!1,disallowEmptySelection:o=!1,disallowSelectAll:s=!1,selectOnFocus:c=e.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:d,allowsTabNavigation:v=!1,isVirtualized:f,scrollRef:a=r,linkBehavior:h="action"}=l,{direction:$}=Se(),b=kt(),m=g=>{var D;if(g.altKey&&g.key==="Tab"&&g.preventDefault(),!(!((D=r.current)===null||D===void 0)&&D.contains(g.target)))return;const M=(K,ee)=>{if(K!=null){if(e.isLink(K)&&h==="selection"&&c&&!ze(g)){var te;vr.flushSync(()=>{e.setFocusedKey(K,ee)});let Xe=(te=a.current)===null||te===void 0?void 0:te.querySelector(`[data-key="${CSS.escape(K.toString())}"]`),Ze=e.getItemProps(K);Xe&&b.open(Xe,g,Ze.href,Ze.routerOptions);return}if(e.setFocusedKey(K,ee),e.isLink(K)&&h==="override")return;g.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(K):c&&!ze(g)&&e.replaceSelection(K)}};switch(g.key){case"ArrowDown":if(t.getKeyBelow){var B,A,R;let K=e.focusedKey!=null?(B=t.getKeyBelow)===null||B===void 0?void 0:B.call(t,e.focusedKey):(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t);K==null&&i&&(K=(R=t.getFirstKey)===null||R===void 0?void 0:R.call(t,e.focusedKey)),K!=null&&(g.preventDefault(),M(K))}break;case"ArrowUp":if(t.getKeyAbove){var N,y,O;let K=e.focusedKey!=null?(N=t.getKeyAbove)===null||N===void 0?void 0:N.call(t,e.focusedKey):(y=t.getLastKey)===null||y===void 0?void 0:y.call(t);K==null&&i&&(K=(O=t.getLastKey)===null||O===void 0?void 0:O.call(t,e.focusedKey)),K!=null&&(g.preventDefault(),M(K))}break;case"ArrowLeft":if(t.getKeyLeftOf){var Y,ne,de;let K=e.focusedKey!=null?(Y=t.getKeyLeftOf)===null||Y===void 0?void 0:Y.call(t,e.focusedKey):null;K==null&&i&&(K=$==="rtl"?(ne=t.getFirstKey)===null||ne===void 0?void 0:ne.call(t,e.focusedKey):(de=t.getLastKey)===null||de===void 0?void 0:de.call(t,e.focusedKey)),K!=null&&(g.preventDefault(),M(K,$==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var fe,ve,ie;let K=e.focusedKey!=null?(fe=t.getKeyRightOf)===null||fe===void 0?void 0:fe.call(t,e.focusedKey):null;K==null&&i&&(K=$==="rtl"?(ve=t.getLastKey)===null||ve===void 0?void 0:ve.call(t,e.focusedKey):(ie=t.getFirstKey)===null||ie===void 0?void 0:ie.call(t,e.focusedKey)),K!=null&&(g.preventDefault(),M(K,$==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){g.preventDefault();let K=t.getFirstKey(e.focusedKey,ae(g));e.setFocusedKey(K),K!=null&&(ae(g)&&g.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(K):c&&e.replaceSelection(K))}break;case"End":if(t.getLastKey){g.preventDefault();let K=t.getLastKey(e.focusedKey,ae(g));e.setFocusedKey(K),K!=null&&(ae(g)&&g.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(K):c&&e.replaceSelection(K))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let K=t.getKeyPageBelow(e.focusedKey);K!=null&&(g.preventDefault(),M(K))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let K=t.getKeyPageAbove(e.focusedKey);K!=null&&(g.preventDefault(),M(K))}break;case"a":ae(g)&&e.selectionMode==="multiple"&&s!==!0&&(g.preventDefault(),e.selectAll());break;case"Escape":!o&&e.selectedKeys.size!==0&&(g.stopPropagation(),g.preventDefault(),e.clearSelection());break;case"Tab":if(!v){if(g.shiftKey)r.current.focus();else{let K=_(r.current,{tabbable:!0}),ee,te;do te=K.lastChild(),te&&(ee=te);while(te);ee&&!ee.contains(document.activeElement)&&Qe(ee)}break}}},x=p.useRef({top:0,left:0});nt(a,"scroll",f?void 0:()=>{var g,D,M,B;x.current={top:(M=(g=a.current)===null||g===void 0?void 0:g.scrollTop)!==null&&M!==void 0?M:0,left:(B=(D=a.current)===null||D===void 0?void 0:D.scrollLeft)!==null&&B!==void 0?B:0}});let w=g=>{if(e.isFocused){g.currentTarget.contains(g.target)||e.setFocused(!1);return}if(g.currentTarget.contains(g.target)){if(e.setFocused(!0),e.focusedKey==null){var D,M;let R=y=>{y!=null&&(e.setFocusedKey(y),c&&e.replaceSelection(y))},N=g.relatedTarget;var B,A;N&&g.currentTarget.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?R((B=e.lastSelectedKey)!==null&&B!==void 0?B:(D=t.getLastKey)===null||D===void 0?void 0:D.call(t)):R((A=e.firstSelectedKey)!==null&&A!==void 0?A:(M=t.getFirstKey)===null||M===void 0?void 0:M.call(t))}else!f&&a.current&&(a.current.scrollTop=x.current.top,a.current.scrollLeft=x.current.left);if(e.focusedKey!=null&&a.current){let R=a.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);R&&(R.contains(document.activeElement)||Qe(R),Je()==="keyboard"&&ot(R,{containingElement:r.current}))}}},C=g=>{g.currentTarget.contains(g.relatedTarget)||e.setFocused(!1)};const P=p.useRef(n);p.useEffect(()=>{if(P.current){var g,D;let A=null;var M;n==="first"&&(A=(M=(g=t.getFirstKey)===null||g===void 0?void 0:g.call(t))!==null&&M!==void 0?M:null);var B;n==="last"&&(A=(B=(D=t.getLastKey)===null||D===void 0?void 0:D.call(t))!==null&&B!==void 0?B:null);let R=e.selectedKeys;if(R.size){for(let N of R)if(e.canSelectItem(N)){A=N;break}}e.setFocused(!0),e.setFocusedKey(A),A==null&&!d&&r.current&&ce(r.current)}},[]);let E=p.useRef(e.focusedKey);p.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==E.current||P.current)&&a.current&&r.current){let g=Je(),D=r.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!D)return;(g==="keyboard"||P.current)&&(Rt(a.current,D),g!=="virtual"&&ot(D,{containingElement:r.current}))}!d&&e.isFocused&&e.focusedKey==null&&E.current!=null&&r.current&&ce(r.current),E.current=e.focusedKey,P.current=!1}),nt(r,"react-aria-focus-scope-restore",g=>{g.preventDefault(),e.setFocused(!0)});let L={onKeyDown:m,onFocus:w,onBlur:C,onMouseDown(g){a.current===g.target&&g.preventDefault()}},{typeSelectProps:k}=qn({keyboardDelegate:t,selectionManager:e});u||(L=Z(k,L));let F;return d||(F=e.focusedKey==null?0:-1),{collectionProps:{...L,tabIndex:F}}}function Jn(l){let{selectionManager:e,key:t,ref:r,shouldSelectOnPressUp:n,shouldUseVirtualFocus:i,focus:o,isDisabled:s,onAction:c,allowsDifferentPressOrigin:u,linkBehavior:d="action"}=l,v=kt(),f=y=>{if(y.pointerType==="keyboard"&&ze(y))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(d==="selection"&&r.current){let O=e.getItemProps(t);v.open(r.current,y,O.href,O.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(d==="override"||d==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):y&&y.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||y&&(ae(y)||y.pointerType==="touch"||y.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};p.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!i&&(o?o():document.activeElement!==r.current&&r.current&&ce(r.current))},[r,t,e.focusedKey,e.childFocusStrategy,e.isFocused,i]),s=s||e.isDisabled(t);let a={};!i&&!s?a={tabIndex:t===e.focusedKey?0:-1,onFocus(y){y.target===r.current&&e.setFocusedKey(t)}}:s&&(a.onMouseDown=y=>{y.preventDefault()});let h=e.isLink(t)&&d==="override",$=e.isLink(t)&&d!=="selection"&&d!=="none",b=!s&&e.canSelectItem(t)&&!h,m=(c||$)&&!s,x=m&&(e.selectionBehavior==="replace"?!b:!b||e.isEmpty),w=m&&b&&e.selectionBehavior==="replace",C=x||w,P=p.useRef(null),E=C&&b,L=p.useRef(!1),k=p.useRef(!1),F=y=>{if(c&&c(),$&&r.current){let O=e.getItemProps(t);v.open(r.current,y,O.href,O.routerOptions)}},g={};n?(g.onPressStart=y=>{P.current=y.pointerType,L.current=E,y.pointerType==="keyboard"&&(!C||wt())&&f(y)},u?(g.onPressUp=x?void 0:y=>{y.pointerType!=="keyboard"&&b&&f(y)},g.onPress=x?F:void 0):g.onPress=y=>{if(x||w&&y.pointerType!=="mouse"){if(y.pointerType==="keyboard"&&!St())return;F(y)}else y.pointerType!=="keyboard"&&b&&f(y)}):(g.onPressStart=y=>{P.current=y.pointerType,L.current=E,k.current=x,b&&(y.pointerType==="mouse"&&!x||y.pointerType==="keyboard"&&(!m||wt()))&&f(y)},g.onPress=y=>{(y.pointerType==="touch"||y.pointerType==="pen"||y.pointerType==="virtual"||y.pointerType==="keyboard"&&C&&St()||y.pointerType==="mouse"&&k.current)&&(C?F(y):b&&f(y))}),a["data-key"]=t,g.preventFocusOnPress=i;let{pressProps:D,isPressed:M}=Mt(g),B=w?y=>{P.current==="mouse"&&(y.stopPropagation(),y.preventDefault(),F(y))}:void 0,{longPressProps:A}=zt({isDisabled:!E,onLongPress(y){y.pointerType==="touch"&&(f(y),e.setSelectionBehavior("toggle"))}}),R=y=>{P.current==="touch"&&L.current&&y.preventDefault()},N=e.isLink(t)?y=>{Sr.isOpening||y.preventDefault()}:void 0;return{itemProps:Z(a,b||x?D:{},E?A:{},{onDoubleClick:B,onDragStartCapture:R,onClick:N}),isPressed:M,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:s,allowsSelection:b,hasAction:C}}function St(){let l=window.event;return(l==null?void 0:l.key)==="Enter"}function wt(){let l=window.event;return(l==null?void 0:l.key)===" "||(l==null?void 0:l.code)==="Space"}class Et{getItemRect(e){let t=this.ref.current;if(!t)return null;let r=e!=null?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!r)return null;let n=t.getBoundingClientRect(),i=r.getBoundingClientRect();return{x:i.left-n.left+t.scrollLeft,y:i.top-n.top+t.scrollTop,width:i.width,height:i.height}}getContentSize(){let e=this.ref.current;var t,r;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(r=e==null?void 0:e.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var t,r,n,i;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(r=e==null?void 0:e.scrollTop)!==null&&r!==void 0?r:0,width:(n=e==null?void 0:e.offsetWidth)!==null&&n!==void 0?n:0,height:(i=e==null?void 0:e.offsetHeight)!==null&&i!==void 0?i:0}}constructor(e){this.ref=e}}class Qn{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let n=this.collection.getItem(r);if((n==null?void 0:n.type)==="item"&&!this.isDisabled(n))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let n=e,i=this.layoutDelegate.getItemRect(n);if(!i||n==null)return null;let o=i;do{if(n=t(n),n==null)break;i=this.layoutDelegate.getItemRect(n)}while(i&&r(o,i)&&n!=null);return n}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!Be(t))return this.getFirstKey();let n=e;if(this.orientation==="horizontal"){let i=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>i&&n!=null;)n=this.getKeyAbove(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}else{let i=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>i&&n!=null;)n=this.getKeyAbove(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!Be(t))return this.getLastKey();let n=e;if(this.orientation==="horizontal"){let i=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<i&&n!=null;)n=this.getKeyBelow(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}else{let i=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<i&&n!=null;)n=this.getKeyBelow(n),r=n==null?null:this.layoutDelegate.getItemRect(n)}return n??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,n=t||this.getFirstKey();for(;n!=null;){let i=r.getItem(n);if(!i)return null;let o=i.textValue.slice(0,e.length);if(i.textValue&&this.collator.compare(o,e)===0)return n;n=this.getNextKey(n)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Et(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Et(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function _n(l){let{selectionManager:e,collection:t,disabledKeys:r,ref:n,keyboardDelegate:i,layoutDelegate:o}=l,s=dn({usage:"search",sensitivity:"base"}),c=e.disabledBehavior,u=p.useMemo(()=>i||new Qn({collection:t,disabledKeys:r,disabledBehavior:c,ref:n,collator:s,layoutDelegate:o}),[i,o,t,r,n,s,c]),{collectionProps:d}=Zn({...l,ref:n,selectionManager:e,keyboardDelegate:u});return{listProps:d}}function ei(l,e,t){let r=Ee(l,{labelable:!0}),n=l.selectionBehavior||"toggle",i=l.linkBehavior||(n==="replace"?"action":"override");n==="toggle"&&i==="action"&&(i="override");let{listProps:o}=_n({...l,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:i}),{focusWithinProps:s}=Ve({onFocusWithin:l.onFocus,onBlurWithin:l.onBlur,onFocusWithinChange:l.onFocusChange}),c=we(l.id);qe.set(e,{id:c,shouldUseVirtualFocus:l.shouldUseVirtualFocus,shouldSelectOnPressUp:l.shouldSelectOnPressUp,shouldFocusOnHover:l.shouldFocusOnHover,isVirtualized:l.isVirtualized,onAction:l.onAction,linkBehavior:i});let{labelProps:u,fieldProps:d}=wr({...l,id:c,labelElementType:"span"});return{labelProps:u,listBoxProps:Z(r,s,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...Z(d,o)})}}function ti(l,e,t){var r,n;let{key:i}=l,o=qe.get(e);var s;let c=(s=l.isDisabled)!==null&&s!==void 0?s:e.selectionManager.isDisabled(i);var u;let d=(u=l.isSelected)!==null&&u!==void 0?u:e.selectionManager.isSelected(i);var v;let f=(v=l.shouldSelectOnPressUp)!==null&&v!==void 0?v:o==null?void 0:o.shouldSelectOnPressUp;var a;let h=(a=l.shouldFocusOnHover)!==null&&a!==void 0?a:o==null?void 0:o.shouldFocusOnHover;var $;let b=($=l.shouldUseVirtualFocus)!==null&&$!==void 0?$:o==null?void 0:o.shouldUseVirtualFocus;var m;let x=(m=l.isVirtualized)!==null&&m!==void 0?m:o==null?void 0:o.isVirtualized,w=Le(),C=Le(),P={role:"option","aria-disabled":c||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?d:void 0};Tt()&&Dt()||(P["aria-label"]=l["aria-label"],P["aria-labelledby"]=w,P["aria-describedby"]=C);let E=e.collection.getItem(i);if(x){let N=Number(E==null?void 0:E.index);P["aria-posinset"]=Number.isNaN(N)?void 0:N+1,P["aria-setsize"]=Ur(e.collection)}let L=o!=null&&o.onAction?()=>{var N;return o==null||(N=o.onAction)===null||N===void 0?void 0:N.call(o,i)}:void 0,{itemProps:k,isPressed:F,isFocused:g,hasAction:D,allowsSelection:M}=Jn({selectionManager:e.selectionManager,key:i,ref:t,shouldSelectOnPressUp:f,allowsDifferentPressOrigin:f&&h,isVirtualized:x,shouldUseVirtualFocus:b,isDisabled:c,onAction:L||!(E==null||(r=E.props)===null||r===void 0)&&r.onAction?Er(E==null||(n=E.props)===null||n===void 0?void 0:n.onAction,L):void 0,linkBehavior:o==null?void 0:o.linkBehavior}),{hoverProps:B}=gn({isDisabled:c||!h,onHoverStart(){_e()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(i))}}),A=Ee(E==null?void 0:E.props);delete A.id;let R=Pr(E==null?void 0:E.props);return{optionProps:{...P,...Z(A,k,B,R),id:Gn(e,i)},labelProps:{id:w},descriptionProps:{id:C},isFocused:g,isFocusVisible:g&&_e(),isSelected:d,isDisabled:c,isPressed:F,allowsSelection:M,hasAction:D}}var li=["color","size","title","className"];function He(){return He=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(l[r]=t[r])}return l},He.apply(null,arguments)}function ri(l,e){if(l==null)return{};var t,r,n=ni(l,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);for(r=0;r<i.length;r++)t=i[r],e.includes(t)||{}.propertyIsEnumerable.call(l,t)&&(n[t]=l[t])}return n}function ni(l,e){if(l==null)return{};var t={};for(var r in l)if({}.hasOwnProperty.call(l,r)){if(e.includes(r))continue;t[r]=l[r]}return t}var Cl=p.forwardRef(function(l,e){var t=l.color,r=t===void 0?"currentColor":t,n=l.size,i=n===void 0?"1em":n,o=l.title,s=o===void 0?null:o,c=l.className,u=c===void 0?"":c,d=ri(l,li);return T.createElement("svg",He({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:r,className:["bi","bi-check",u].filter(Boolean).join(" ")},d),s?T.createElement("title",null,s):null,T.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"}))});Cl.propTypes={color:W.string,size:W.oneOfType([W.string,W.number]),title:W.string,className:W.string};const ii=Cl;var oi=["color","size","title","className"];function We(){return We=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(l[r]=t[r])}return l},We.apply(null,arguments)}function si(l,e){if(l==null)return{};var t,r,n=ai(l,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);for(r=0;r<i.length;r++)t=i[r],e.includes(t)||{}.propertyIsEnumerable.call(l,t)&&(n[t]=l[t])}return n}function ai(l,e){if(l==null)return{};var t={};for(var r in l)if({}.hasOwnProperty.call(l,r)){if(e.includes(r))continue;t[r]=l[r]}return t}var Dl=p.forwardRef(function(l,e){var t=l.color,r=t===void 0?"currentColor":t,n=l.size,i=n===void 0?"1em":n,o=l.title,s=o===void 0?null:o,c=l.className,u=c===void 0?"":c,d=si(l,oi);return T.createElement("svg",We({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:r,className:["bi","bi-chevron-down",u].filter(Boolean).join(" ")},d),s?T.createElement("title",null,s):null,T.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"}))});Dl.propTypes={color:W.string,size:W.oneOfType([W.string,W.number]),title:W.string,className:W.string};const ui=Dl;var ci=["color","size","title","className"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(l[r]=t[r])}return l},Ue.apply(null,arguments)}function di(l,e){if(l==null)return{};var t,r,n=fi(l,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);for(r=0;r<i.length;r++)t=i[r],e.includes(t)||{}.propertyIsEnumerable.call(l,t)&&(n[t]=l[t])}return n}function fi(l,e){if(l==null)return{};var t={};for(var r in l)if({}.hasOwnProperty.call(l,r)){if(e.includes(r))continue;t[r]=l[r]}return t}var Ml=p.forwardRef(function(l,e){var t=l.color,r=t===void 0?"currentColor":t,n=l.size,i=n===void 0?"1em":n,o=l.title,s=o===void 0?null:o,c=l.className,u=c===void 0?"":c,d=di(l,ci);return T.createElement("svg",Ue({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:r,className:["bi","bi-x",u].filter(Boolean).join(" ")},d),s?T.createElement("title",null,s):null,T.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"}))});Ml.propTypes={color:W.string,size:W.oneOfType([W.string,W.number]),title:W.string,className:W.string};const Tl=Ml;function vi(l){const e=p.useRef(null),{optionProps:t,isDisabled:r,isSelected:n,isFocusVisible:i}=ti({key:l.item.key},l.state,e);return S.jsxs("li",{...t,ref:e,className:Ft({variant:"transparent",size:"md",className:le("flex items-center justify-between my-1 hover:bg-gray-300 dark:hover:bg-secondary focus:bg-gray-300 dark:focus:bg-secondary",(n||i)&&"dark:bg-secondary bg-gray-300",r&&"cursor-not-allowed opacity-70")}),children:[l.item.rendered,n?S.jsx(ii,{"aria-label":`Selected ${l.item.textValue}`,className:"dark:text-gray-400"}):null]})}function hi(l){const e=p.useRef(null),{listBoxRef:t=e,state:r}=l,{listBoxProps:n}=ei(l,r,t),i=Ct.useTranslations("Common");return S.jsx("ul",{...n,ref:t,className:"max-h-72 overflow-auto outline-none",children:r.collection.size<=0?S.jsx("li",{className:"text-center text-sm dark:text-gray-400 text-neutral-700",children:i("noOptions")}):[...r.collection].map(o=>S.jsx(vi,{item:o,state:r},o.key))})}function pi(l){let[e,t]=Lt(l.isOpen,l.defaultOpen||!1,l.onOpenChange);const r=p.useCallback(()=>{t(!0)},[t]),n=p.useCallback(()=>{t(!1)},[t]),i=p.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:r,close:n,toggle:i}}function gi(l){let e=pi(l),[t,r]=p.useState(null),[n,i]=p.useState([]),o=()=>{i([]),e.close()};return{focusStrategy:t,...e,open(u=null){r(u),e.open()},toggle(u=null){r(u),e.toggle()},close(){o()},expandedKeysStack:n,openSubmenu:(u,d)=>{i(v=>d>v.length?v:[...v.slice(0,d),u])},closeSubmenu:(u,d)=>{i(v=>v[d]===u?v.slice(0,d):v)}}}class Pt{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var r;return t&&(r=t.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let t=this.keyMap.get(e);var r;return t&&(r=t.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(t==null?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&o.type==="section")for(let s of o.childNodes)t(s)};for(let o of e)t(o);let r=null,n=0;for(let[o,s]of this.keyMap)r?(r.nextKey=o,s.prevKey=r.key):(this.firstKey=o,s.prevKey=void 0),s.type==="item"&&(s.index=n++),r=s,r.nextKey=void 0;var i;this.lastKey=(i=r==null?void 0:r.key)!==null&&i!==void 0?i:null}}class q extends Set{constructor(e,t,r){super(e),e instanceof q?(this.anchorKey=t??e.anchorKey,this.currentKey=r??e.currentKey):(this.anchorKey=t??null,this.currentKey=r??null)}}function bi(l,e){if(l.size!==e.size)return!1;for(let t of l)if(!e.has(t))return!1;return!0}function mi(l){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:r,selectionBehavior:n="toggle",disabledBehavior:i="all"}=l,o=p.useRef(!1),[,s]=p.useState(!1),c=p.useRef(null),u=p.useRef(null),[,d]=p.useState(null),v=p.useMemo(()=>Kt(l.selectedKeys),[l.selectedKeys]),f=p.useMemo(()=>Kt(l.defaultSelectedKeys,new q),[l.defaultSelectedKeys]),[a,h]=Lt(v,f,l.onSelectionChange),$=p.useMemo(()=>l.disabledKeys?new Set(l.disabledKeys):new Set,[l.disabledKeys]),[b,m]=p.useState(n);n==="replace"&&b==="toggle"&&typeof a=="object"&&a.size===0&&m("replace");let x=p.useRef(n);return p.useEffect(()=>{n!==x.current&&(m(n),x.current=n)},[n]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:b,setSelectionBehavior:m,get isFocused(){return o.current},setFocused(w){o.current=w,s(w)},get focusedKey(){return c.current},get childFocusStrategy(){return u.current},setFocusedKey(w,C="first"){c.current=w,u.current=C,d(w)},selectedKeys:a,setSelectedKeys(w){(r||!bi(w,a))&&h(w)},disabledKeys:$,disabledBehavior:i}}function Kt(l,e){return l?l==="all"?"all":new q(l):e}class yi{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(r=>t.has(r)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!e||n&&Ce(this.collection,n,e)<0)&&(e=n)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!e||n&&Ce(this.collection,n,e)>0)&&(e=n)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let r;if(this.state.selectedKeys==="all")r=new q([t],t,t);else{let o=this.state.selectedKeys;var n;let s=(n=o.anchorKey)!==null&&n!==void 0?n:t;r=new q(o,s,t);var i;for(let c of this.getKeyRange(s,(i=o.currentKey)!==null&&i!==void 0?i:t))r.delete(c);for(let c of this.getKeyRange(t,s))this.canSelectItem(c)&&r.add(c)}this.state.setSelectedKeys(r)}getKeyRange(e,t){let r=this.collection.getItem(e),n=this.collection.getItem(t);return r&&n?Ce(this.collection,r,n)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var r;if(!((r=this.layoutDelegate)===null||r===void 0)&&r.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let n=[],i=e;for(;i!=null;){let o=this.collection.getItem(i);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&n.push(i),i===t)return n;i=this.collection.getKeyAfter(i)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let r=new q(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let r=this.canSelectItem(t)?new q([t],t,t):new q;this.state.setSelectedKeys(r)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new q;for(let r of e){let n=this.getKey(r);if(n!=null&&(t.add(n),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=r=>{for(;r!=null;){if(this.canSelectItem(r)){var n;let o=this.collection.getItem(r);(o==null?void 0:o.type)==="item"&&e.push(r);var i;o!=null&&o.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&t((i=(n=Hr(Nt(o,this.collection)))===null||n===void 0?void 0:n.key)!==null&&i!==void 0?i:null)}r=this.collection.getKeyAfter(r)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new q)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;for(let r of t)if(!e.has(r))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let r=this.collection.getItem(e);return!(!r||!(r==null||(t=r.props)===null||t===void 0)&&t.isDisabled||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,r;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((r=this.collection.getItem(e))===null||r===void 0||(t=r.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,r;return!!(!((r=this.collection.getItem(e))===null||r===void 0||(t=r.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}constructor(e,t,r){this.collection=e,this.state=t;var n;this.allowsCellSelection=(n=r==null?void 0:r.allowsCellSelection)!==null&&n!==void 0?n:!1,this._isSelectAll=null,this.layoutDelegate=(r==null?void 0:r.layoutDelegate)||null}}function $i(l){let{filter:e,layoutDelegate:t}=l,r=mi(l),n=p.useMemo(()=>l.disabledKeys?new Set(l.disabledKeys):new Set,[l.disabledKeys]),i=p.useCallback(d=>e?new Pt(e(d)):new Pt(d),[e]),o=p.useMemo(()=>({suppressTextValueWarning:l.suppressTextValueWarning}),[l.suppressTextValueWarning]),s=zr(l,i,o),c=p.useMemo(()=>new yi(s,r,{layoutDelegate:t}),[s,r,t]);const u=p.useRef(null);return p.useEffect(()=>{if(r.focusedKey!=null&&!s.getItem(r.focusedKey)&&u.current){const m=u.current.getItem(r.focusedKey),x=[...u.current.getKeys()].map(k=>{const F=u.current.getItem(k);return(F==null?void 0:F.type)==="item"?F:null}).filter(k=>k!==null),w=[...s.getKeys()].map(k=>{const F=s.getItem(k);return(F==null?void 0:F.type)==="item"?F:null}).filter(k=>k!==null);var d,v;const C=((d=x==null?void 0:x.length)!==null&&d!==void 0?d:0)-((v=w==null?void 0:w.length)!==null&&v!==void 0?v:0);var f,a,h;let P=Math.min(C>1?Math.max(((f=m==null?void 0:m.index)!==null&&f!==void 0?f:0)-C+1,0):(a=m==null?void 0:m.index)!==null&&a!==void 0?a:0,((h=w==null?void 0:w.length)!==null&&h!==void 0?h:0)-1),E=null,L=!1;for(;P>=0;){if(!c.isDisabled(w[P].key)){E=w[P];break}if(P<w.length-1&&!L)P++;else{L=!0;var $,b;P>(($=m==null?void 0:m.index)!==null&&$!==void 0?$:0)&&(P=(b=m==null?void 0:m.index)!==null&&b!==void 0?b:0),P--}}r.setFocusedKey(E?E.key:null)}u.current=s},[s,c,r,r.focusedKey]),{collection:s,disabledKeys:n,selectionManager:c}}function xi(l){const{collection:e,disabledKeys:t,selectionManager:r,selectionManager:{setSelectedKeys:n,selectedKeys:i,selectionMode:o}}=$i(l),s=[],c=i.size!==0?Array.from(i).map(u=>{const d=e.getItem(u);return d||s.push(u),d}).filter(Boolean):null;return s.length&&console.warn(`Select: Keys "${s.join(", ")}" passed to "selectedKeys" are not present in the collection.`),{collection:e,disabledKeys:t,selectionManager:r,selectionMode:o,selectedKeys:i,setSelectedKeys:n.bind(r),selectedItems:c}}function Si(l){const[e,t]=p.useState(!1),r=gi(l),n=xi({...l,onSelectionChange:i=>{if(typeof l.onSelectionChange=="function")if(i==="all"&&l.onSelectionChange([...new Set(n.collection.getKeys()).values()]),l.selectionMode==="single"&&i!=="all"){const o=[...i.values()][0]??null;l.onSelectionChange(o)}else{const o=typeof i=="object"&&[...i.values()];if(!o)return;l.onSelectionChange(o)}l.selectionMode==="single"&&r.close()}});return{...n,...r,isFocused:e,setIsFocused:t}}var kl={};kl={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Fl={};Fl={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Al={};Al={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ll={};Ll={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Bl={};Bl={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Nl={};Nl={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var Rl={};Rl={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var Il={};Il={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Ol={};Ol={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var jl={};jl={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var zl={};zl={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var Hl={};Hl={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Wl={};Wl={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var Ul={};Ul={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Vl={};Vl={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Gl={};Gl={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var Yl={};Yl={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var ql={};ql={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Xl={};Xl={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Zl={};Zl={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Jl={};Jl={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var Ql={};Ql={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var _l={};_l={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var er={};er={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var tr={};tr={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var lr={};lr={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var rr={};rr={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var nr={};nr={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var ir={};ir={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var or={};or={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var sr={};sr={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ar={};ar={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var ur={};ur={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var cr={};cr={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var dr={};dr={"ar-AE":kl,"bg-BG":Fl,"cs-CZ":Al,"da-DK":Ll,"de-DE":Bl,"el-GR":Nl,"en-US":Rl,"es-ES":Il,"et-EE":Ol,"fi-FI":jl,"fr-FR":zl,"he-IL":Hl,"hr-HR":Wl,"hu-HU":Ul,"it-IT":Vl,"ja-JP":Gl,"ko-KR":Yl,"lt-LT":ql,"lv-LV":Xl,"nb-NO":Zl,"nl-NL":Jl,"pl-PL":Ql,"pt-BR":_l,"pt-PT":er,"ro-RO":tr,"ru-RU":lr,"sk-SK":rr,"sl-SI":nr,"sr-SP":ir,"sv-SE":or,"tr-TR":sr,"uk-UA":ar,"zh-CN":ur,"zh-TW":cr};function wi(l){return l&&l.__esModule?l.default:l}function Ei(l,e,t){let{type:r="menu",isDisabled:n,trigger:i="press"}=l,o=we(),{triggerProps:s,overlayProps:c}=kn({type:r},e,t),u=a=>{if(!n&&!(i==="longPress"&&!a.altKey)&&t&&t.current)switch(a.key){case"Enter":case" ":if(i==="longPress")return;case"ArrowDown":"continuePropagation"in a||a.stopPropagation(),a.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in a||a.stopPropagation(),a.preventDefault(),e.toggle("last");break;default:"continuePropagation"in a&&a.continuePropagation()}},d=jt(wi(dr),"@react-aria/menu"),{longPressProps:v}=zt({isDisabled:n||i!=="longPress",accessibilityDescription:d.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),f={onPressStart(a){a.pointerType!=="touch"&&a.pointerType!=="keyboard"&&!n&&e.open(a.pointerType==="virtual"?"first":null)},onPress(a){a.pointerType==="touch"&&!n&&e.toggle()}};return delete s.onPress,{menuTriggerProps:{...s,...i==="press"?f:v,id:o,onKeyDown:u},menuProps:{...c,"aria-labelledby":o,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function Pi(l,e,t){const{disallowEmptySelection:r,isDisabled:n}=l,{menuTriggerProps:i,menuProps:o}=Ei({isDisabled:n,type:"listbox"},e,t),{labelProps:s,errorMessageProps:c,fieldProps:u}=kr(l),d=Ee(l,{labelable:!0}),v=Z(i,u),f=we();return{errorMessageProps:c,labelProps:{...s,onClick:()=>{var a;e.isFocused||n||((a=t.current)==null||a.focus(),e.setIsFocused(!0),Kr("keyboard"),e.setOpen(!0))}},triggerProps:Z(d,{...v,onFocus(a){e.isFocused||(e.setIsFocused(!0),l.onFocus&&l.onFocus(a))},onBlur(a){e.isOpen||(e.setIsFocused(!1),l.onBlur&&l.onBlur(a))}}),valueProps:{id:f},menuProps:{...o,disallowEmptySelection:r,shouldSelectOnPressUp:!0}}}function Ki(l){return typeof l.selectedKey>"u"&&typeof l.selectedKeys>"u"?[]:l.selectedKey!==null&&typeof l.selectedKey<"u"?l.selectedKey.toString().trim().length<=0?[]:[l.selectedKey]:l.selectedKey===null?[]:l.selectedKeys==="all"?"all":l.selectedKeys instanceof Set||Array.isArray(l.selectedKeys)?l.selectedKeys:[l.selectedKeys]}function Ci(l){var n;const e=Ct.useTranslations("Common"),t=l.selectionMode==="multiple"?l.state.selectedItems:null,r=l.selectionMode==="single"?(n=l.state.selectedItems)==null?void 0:n[0]:null;return t&&t.length>0?S.jsx(S.Fragment,{children:t.map(i=>{const o=l.options.find(s=>s.value===i.key);return S.jsxs("span",{className:"text-sm flex items-center justify-between px-1.5 rounded-sm bg-gray-300 dark:bg-tertiary",children:[S.jsxs(Fr,{open:o!=null&&o.description?void 0:!1,children:[S.jsx(Ar,{asChild:!0,children:S.jsx("span",{className:"pr-1",children:i.textValue})}),S.jsx(Lr,{sideOffset:7,side:"bottom",align:"center",pointerEvents:!0,children:o==null?void 0:o.description})]}),S.jsx(pe,{className:"!px-0.5 hover:!bg-gray-400 dark:hover:!bg-primary",variant:"transparent",role:"button",onPress:()=>{const s=[...l.state.selectedKeys].filter(c=>c!==i.key);l.state.setSelectedKeys(s)},children:S.jsx(Tl,{className:"w-5 h-5"})})]},i.key)})}):r?S.jsx("span",{className:"w-full inline-block overflow-hidden whitespace-nowrap text-ellipsis",children:r.textValue}):S.jsx("span",{children:e("select")})}function Di(l){var n;const e=l.selectionMode==="multiple"?l.state.selectedItems:null,t=l.selectionMode==="single"?(n=l.state.selectedItems)==null?void 0:n[0]:null,r=l.isClearable&&(e||t);return S.jsxs(S.Fragment,{children:[l.isLoading?S.jsx("div",{className:le("absolute top-0 bottom-0 flex items-center justify-center",r?"right-[82px]":"right-12"),children:S.jsx(At,{})}):null,r?S.jsx(pe,{isDisabled:l.isDisabled,onPress:()=>{l.state.setSelectedKeys([])},className:le("px-2 !rounded-none -mx-[1.5px]","group-hover:dark:!border-gray-500 group-hover:!border-gray-500",l.state.isOpen&&"!border-gray-800 dark:!border-gray-500",l.errorMessage&&"!border-red-500 focus:!border-red-700 dark:!focus:border-red-700"),type:"button",children:S.jsx(Tl,{className:"w-5 h-5 dark:fill-white"})}):null,S.jsx(pe,{isDisabled:l.isDisabled,onPress:()=>l.state.open(),size:"xs",type:"button",className:le("rounded-l-none",!r&&"-ml-[1.5px]","group-hover:dark:!border-gray-500 group-hover:!border-gray-500",l.state.isOpen&&"!border-gray-800 dark:!border-gray-500",l.errorMessage&&"!border-red-500 focus:!border-red-700 dark:!focus:border-red-700"),children:S.jsx(ui,{className:"w-5 h-5 dark:fill-white"})})]})}function Mi(l){var b;const e=l.selectionMode??"single",t=p.useMemo(()=>l.options.map(m=>S.jsx(Ir,{textValue:m.textValue||void 0,children:m.label},m.value)),[l.options]),r=p.useMemo(()=>l.options.filter(m=>!!m.isDisabled).map(m=>m.value),[l.options]),n=p.useMemo(()=>Ki({selectedKey:l.selectedKey,selectedKeys:l.selectedKeys}),[l.selectedKeys,l.selectedKey]),i=!l.isClearable,o=Si({...l,selectedKeys:n,children:t,disabledKeys:r,disallowEmptySelection:i,selectionMode:e}),s=p.useRef(null),{labelProps:c,triggerProps:u,errorMessageProps:d,valueProps:v,menuProps:f}=Pi({...l,selectedKey:void 0,disallowEmptySelection:i,children:t,disabledKeys:r},o,s),{buttonProps:a}=Cr(u,s),h=e==="multiple"?o.selectedItems:null,$=e==="single"?(b=o.selectedItems)==null?void 0:b[0]:null;return S.jsx(Vt,{children:S.jsxs("div",{className:le("flex flex-col mb-3",l.className),children:[S.jsx(Br,{...l,labelProps:c}),S.jsxs("div",{className:"relative group",children:[S.jsxs("div",{className:"flex",children:[S.jsx("div",{role:"button",...a,className:le(Ft({variant:"default",size:"sm",className:le("px-2 cursor-default !rounded-r-none w-full min-h-[39px] h-auto flex items-center justify-between border !bg-white dark:!bg-secondary hover:dark:!bg-secondary hover:dark:!brightness-100 group-hover:dark:!border-gray-500 group-hover:!border-gray-500",l.errorMessage&&"!border-red-500 focus:!border-red-700 dark:focus:!border-red-700",o.isOpen&&"dark:!border-gray-500 !border-gray-500",l.isDisabled&&"!cursor-not-allowed opacity-60")})),ref:s,children:S.jsx("div",{...v,className:le("flex items-center gap-2 flex-wrap",!(h||$)&&"text-neutral-700 dark:text-gray-400"),children:S.jsx(Ci,{options:l.options,selectionMode:e,state:o})})}),S.jsx(Di,{selectionMode:e,state:o,isClearable:l.isClearable,errorMessage:l.errorMessage,isDisabled:l.isDisabled,isLoading:l.isLoading})]}),o.isOpen&&S.jsx(Un,{isCalendar:l.isCalendar,isOpen:o.isOpen,onClose:o.close,children:S.jsx(hi,{...f,state:o})})]}),l.children,l.errorMessage&&S.jsx(Nr,{errorMessage:l.errorMessage,errorMessageProps:d})]})})}function Li(){const[l,e]=p.useState(null),{hide:t,data:r}=hr(),n=Dr({mutationKey:["set-unit-status"],onSuccess(o){var s;t(),pr({title:"Status updated",message:`Successfully updated your status to ${(s=o.status)==null?void 0:s.value.value}.`})},mutationFn:async o=>{if(!(r!=null&&r.url)||!r.userApiToken)throw new Error("SnailyCAD API URL and/or Personal API Token not provided.");const{data:s,error:c,errorMessage:u}=await Mr({url:r.url,path:`/dispatch/status/${r.unitId}`,method:"PUT",data:{status:o.statusId},headers:{userApiToken:r.userApiToken}});if(c||!s)throw new Error((c==null?void 0:c.message)||u||"Unknown error occurred. Please see F8 console for further details.");return s}});function i(o){o.preventDefault(),l&&n.mutate({statusId:l})}return S.jsxs("div",{className:"max-w-lg rounded-md bg-primary p-8",children:[S.jsxs("header",{className:"mb-2",children:[S.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold text-white",children:"Set Status"}),S.jsx(pe,{className:"px-1 text-base",onPress:t,children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:S.jsx("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})})]}),S.jsx("p",{className:"text-neutral-200",children:"Set the status for your active unit."})]}),n.error?S.jsx(Tr,{type:"error",title:"An error occurred",message:n.error.message}):null,S.jsxs("form",{onSubmit:i,className:"mt-3",children:[S.jsx(Mi,{selectedKey:l,onSelectionChange:o=>e(o),label:"Status",options:((r==null?void 0:r.statusCodes)??[]).map(o=>({label:o.value.value,value:o.id}))}),S.jsxs("p",{className:"text-neutral-200 mt-2",children:["Additionally use",S.jsx("code",{className:"inline-block bg-secondary p-0.5",children:"/sn-set-status <status-code>"})]}),S.jsxs(pe,{className:"flex gap-2 items-center",type:"submit",isDisabled:n.isPending,children:[n.isPending?S.jsx(At,{}):null,"Save"]})]})]})}export{Li as SetStatusScreen};
